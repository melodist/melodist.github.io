---
layout: post
title: 리액트를 다루는 기술 - 15장. Context API
tags: [JavaScript, ReactSkill, UF]
permalink: /docs/JavaScript/ReactSkill/1
date: 2022-03-09 23:15:00
---
# Context API
- 리액트 프로젝트에서 전역적으로 사용할 데이터를 관리
    - 사용자 로그인 정보, 애플리케이션 환경 설정, 테마 등
- 리덕스, 리액트 라우터, style-components 등이 Context API 기반으로 구현

## Context API를 사용한 전역 상태 관리 흐름 이해하기

- 리액트 애플리케이션에서 전역적으로 사용할 데이터는 최상위 컴포넌트인 `App`의 `state`에 넣어서 관리

### 전역 상태 관리 흐름

```javascript
const [value, setValue] = useState('hello');
const onSetValue = useCallback(value => setValue(value), []);
```

![전역 상태 관리 흐름](https://i.imgur.com/tmOeRAT.png)

- G 컴포넌트가 전역 상태를 업데이트 / F와 J 컴포넌트가 업데이트된 상태를 렌더링
- `App`이 지니고 있는 `value` 값을 F와 J 컴포넌트에 전달
    - `App`-`A`-`B`-`F`
    - `App`-`H`-`J`
- `G` 컴포넌트에 상태 업데이트 함수를 전달
    - `App`-`A`-`B`-`E`-`G`
- 유지 보수성이 낮아짐

![Context API를 사용한 전역 상태 관리 흐름](https://i.imgur.com/iyNKCIz.png)

- Context API를 통하여 복잡한 경로를 거치지 않고 전역 상태를 관리

## Context API 사용법 익히기

- `createContext`: 새로운 컨텍스트 생성
```javascript
const ColorContext = createContext({ color: 'black '});
```

- `Consumer`: Context 내의 상태를 받아옴
```javascript
import ColorContent
```


## 동적 Context 사용하기

## Consumer 대신 Hook 또는 static contextType 사용하기

## 정리