---
layout: post
title: 컴퓨터 구조 - Chapter 03. 중앙처리장치
tags: [ComputerScience, ComputerArchitecture, CPU]
permalink: /docs/ComputerScience/ComputerArchitecture/CPU1
date: 2021-04-26 15:30:00
---
# CPU 내부 구조와 레지스터

## CPU 구성요소

**중앙 처리 장치** (CPU, Central Processing Unit): 컴퓨터에서 데이터 처리 동작을 수행하는 부분

- 레지스터 세트 (Register set): 명령어를 실행하는 데에 필요한 데이터를 보관
- 산술논리장치 (ALU, Arithmetic Logic Unit): 명령어를 실행하기 위한 마이크로 연산 수행
- 제어장치 (Control Unit) : RS간 정보전송 감시, ALU에게 수행할 동작을 지시

### CPU 내부 구조

![3 1 CPU 구성요소 01  CPU 내부 구조](https://user-images.githubusercontent.com/52024566/116038869-f9c1b100-a6a4-11eb-9eee-7fd20c462c4e.png)

## 각종 레지스터들의 명칭과 기능

- MAR (Memory Address Register) : MBR로부터 쓰여지거나 읽혀질 워드의 메모리 주소를 저장
- MBR (Memory Buffer Register) : 메모리에 쓰여질 워드를 가지고 있거나 메모리로부터 읽혀진 워드를 저장
- PC (Program Counter) : 다음에 수행될 명령어가 들어있는 주기억장치의 주소를 저장
- IR (Instruction Register) : PC가 지정하는 주소에 저장되어 있는 명령어를 저장
- ID (Instruction Decoder) : IR에 들어있는 명령어의 해석을 담당하는 논리회로
- CU (Control Unit) : ID에서 보내진 신호에 따라 명령어를 실행 (clock에 의해 발생)
- WR (Working Register) : 산술 논리연산을 실행할 수 있도록 자료를 저장하고 그 결과를 저장. GPR과 달리 ALU에 직접 연결되어 있음.
- SR (Status Register) : CPU의 상태를 나타내는 특수목적의 레지스터

| 명칭       | 약자 | 설명      |
| ---------- | ---- | --------- |
| 영         | Z    | zero      |
| 부호       | S    | sign      |
| 오버플로우 | V    | overflow  |
| 캐리       | C    | carry     |
| 인터럽트   | I    | interrupt |

- 범용 레지스터 (GR, General purpose Register) : WR에서 정보가 용이하게 처리되도록 임시로 자료를 저장
- ![3 1 CPU 구성요소 02  ADD 명령어의 실행 예](https://user-images.githubusercontent.com/52024566/116040258-c2540400-a6a6-11eb-9bc1-b706f851e368.png)

# CPU 내부 구조와 명령어 집합

## 명령어(instruction) 구성과 실행

### 레지스터 전송 언어

**마이크로 연산(micro-operation)** : Register에 저장된 데이터의 조작을 위해 실행되는 동작으로 하나의 clock pulse 내에서 실행되는 기본적인 동작

- 전송 : 레지스터 사이 이진 정보를 전송
- 산술 : 레지스터에 저장된 수치 데이터에 대해 산술 연산 수행
- 논리 : 레지스터에 저장된 비수치 데이터에 대해 비트 조작 연산 수행
- 시프트 : 레지스터에 저장된 데이터에 대해 시프트 연산 수행

### 레지스터 전송

![3 3 명령어(instruction) 구성과 실행 01  가장 일반적 표현들](https://user-images.githubusercontent.com/52024566/116047737-5f1a9f80-a6af-11eb-906c-9130c73ae6ae.png)

![3 3 명령어(instruction) 구성과 실행 02  레지스터 전송의 기본기호](https://user-images.githubusercontent.com/52024566/116047212-d00d8780-a6ae-11eb-9466-a8c2ec70481a.png)

# CPU(central processing unit) 디자인

### CPU 내의 다양한 장치 간 상호 연결 방법

| 직접 연결                                                    | 버스 연결                                                    |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 연결 복잡도가 장치수의 제곱에 비례<br />                     | 공용선에 의한 연결<br />가장 가성비 높은 연결 방식으로 다양한 관리 방법 존재 |
| ![3 4 CPU 디자인 01  직접 연결](https://user-images.githubusercontent.com/52024566/116047980-a56ffe80-a6af-11eb-8e51-91c92a961b9d.png) | ![3 4 CPU 디자인 02  버스 연결](https://user-images.githubusercontent.com/52024566/116047984-a6a12b80-a6af-11eb-8323-2945de9256c4.png) |

**공용선에 의한 레지스터 상호 연결 예 - 멀티 플렉서를 이용** 

![3 4 CPU 디자인 03  공용선에 의한 레지스터 상호 연결 예](https://user-images.githubusercontent.com/52024566/116048671-5d9da700-a6b0-11eb-9062-ca6644ee77cc.png)

- 여기서 각 MUX는 각각의 Register의 번지 수에 대응한다. 

- S0, S1의 입력 조합에 따라서 A-D의 레지스터 중 하나의 레지스터만이 선택된다.

**공용선에 의한 레지스터 상호 연결 예 - 3-상태 버스 버퍼** 

![3 4 CPU 디자인 04  3-상태 버스 버퍼](https://user-images.githubusercontent.com/52024566/116049076-d7359500-a6b0-11eb-851e-471272da6a14.png)

- Enable 값이 0일 경우 어떠한 레지스터도 정보를 보낼 수 없으므로 이전 정보가 유지(기억)된다.
- Enable 값이 1일 경우 S0, S1에 의하여 A-D 중 하나의 레지스터를 선택한다.

### CPU 활용 자료 구조

![3 4 CPU 디자인 05  스택, 큐, 데크](https://user-images.githubusercontent.com/52024566/116049426-372c3b80-a6b1-11eb-8acb-02190e9bab54.png)

## 마이크로 명령과 ALU

### 마이크로 연산과 ALU

**ALU (Arithmetic Logic Unit)** : 산술 연산과 논리 연산

- 주로 정수 연산을 처리
- FPU (Floating-Point Unit) : 부동 소수 연산
- 최근에는 ALU가 부동 소수 연산까지 처리

![3.6 마이크로 연산과 ALU 01. ALU](D:\OJT\OnlineLearning\컴퓨터 공학 올인원\Part 4. 컴퓨터 구조\Pictures\3.6 마이크로 연산과 ALU 01. ALU.png)

- Parity bit : 
- AC (Accumulator) : 처리된 결과를 일시적으로 저장하는 공간

**산술 연산**

![3 6 마이크로 연산과 ALU 02  산술 연산](https://user-images.githubusercontent.com/52024566/116211515-da975200-a77e-11eb-9053-05b8340b474d.png)

**논리 연산**

![3 6 마이크로 연산과 ALU 03  논리 연산](https://user-images.githubusercontent.com/52024566/116211518-db2fe880-a77e-11eb-9a37-938bf0de5e8a.png)

- A : Arithmetic / L : Logical / R : Rotate
- ASL = LSL, ASR != LSR

**논리 연산 예**

![3 6 마이크로 연산과 ALU 04  논리 연산 예](https://user-images.githubusercontent.com/52024566/116211520-db2fe880-a77e-11eb-8697-08093ad6fcb6.png)

**시프트 연산 예**

![3 6 마이크로 연산과 ALU 05  시프트 연산 예](https://user-images.githubusercontent.com/52024566/116211521-dbc87f00-a77e-11eb-97df-50b167c52db5.png)

- MSB (Most Significant Bit) / LSB (Least Significant Bit)

## References

[컴퓨터 공학 전공 필수 올인원 패키지 Online](https://www.fastcampus.co.kr/dev_online_cs)