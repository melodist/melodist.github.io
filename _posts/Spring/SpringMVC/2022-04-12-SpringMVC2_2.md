---
layout: post
title: 스프링 MVC 2편 - 백엔드 웹 개발 활용 기술 - 2. 타임리프 - 스프링 통합과 폼
tags: [Spring, SpringMVC2, UF]
permalink: /docs/Spring/SpringMVC2_2
date: 2022-04-12 23:51:00
---
# 타임 리프 - 스프링 통합과 폼

## 타임리프 스프링 통합

- 스프링 통합 메뉴얼: https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html

### 스프링 통합으로 추가되는 기능들
- 스프링의 SpringEL 문법 통합
- `${@myBean.doSomething()}` 처럼 스프링 빈 호출 지원
- 편리한 폼 관리를 위한 추가 속성
  - `th:object` (기능 강화, 폼 커맨드 객체 선택)
  - `th:field`, `th:errors`, `th:errorclass`
- 폼 컴포넌트 기능
  - checkbox, radio button, List 등을 편리하게 사용할 수 있는 기능 지원
- 스프링의 메시지, 국제화 기능의 편리한 통합
- 스프링의 검증, 오류 처리 통합
- 스프링의 변환 서비스 통합(ConversionService)

### 설정 방법

- 타임리프 템플릿 엔진을 스프링 빈에 등록
  - https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#the-springstandarddialect
- 타임리프용 뷰 리졸버를 스프링 빈으로 등록하는 방법
  - https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#views-and-viewresolvers

- 스프링 부트에서는 `build.gradle`에 아래의 문장을 추가하면 됨
```
implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
```

- 스프링 부트가 제공하는 타임리프 설정, thymeleaf 검색 필요
  - https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-applicationproperties.html#common-application-properties-templating

## 입력 폼 처리

```html
<form action="item.html" th:action th:object="${item}" method="post">
  <div>
    <label for="itemName">상품명</label>
    <input type="text" id="itemName" th:field="*{itemName}" class="formcontrol" placeholder="이름을 입력하세요">
  </div>
```

- `th:object="${item}"`: `<form>` 에서 사용할 객체를 지정. 선택 변수 식( `*{...}` )을 적용할 수 있음
- `th:field="*{itemName}"`
  - `*{itemName}` 는 선택 변수 식을 사용했는데, `${item.itemName}` 과 같음. 앞서 `th:object` 로 `item` 을 선택했기 때문에 선택 변수 식을 적용 가능
  - `th:field` 는 `id` , `name` , `value` 속성을 모두 자동으로 생성
    - `id` : `th:field` 에서 지정한 변수 이름. `id="itemName"`
    - `name` : `th:field` 에서 지정한 변수 이름. `name="itemName"`
    - `value` : `th:field` 에서 지정한 변수의 값. `value=""`
    - 참고로 해당 예제에서 `id` 속성을 제거해도 `th:field` 가 자동으로 생성

## 체크 박스 - 단일

## 체크 박스 - 멀티

## 라디오 버튼

## 셀렉트 박스