---
layout: post
title: 스프링 DB 2편 - 데이터 접근 기술 - 7. Querydsl
tags: [Spring, SpringDB2, UF]
permalink:  docs Spring SpringDB2_7
date: 2022-11-10 21:20:00
---
# 데이터 접근 기술 - Querydsl
## Querydsl 소개
### 기존 방식의 문제점

**QUERY의 문제점**
- QUERY는 문자이므로 Type-check 불가능
- 실행하기 전까지 작동여부 확인 불가

JPA에서 QUERY 방법은 크게 3가지 
1. JPQL(HQL) 
![데이터 접근 기술 - Querydsl - 01  JPQL(HQL)](https://user-images.githubusercontent.com/52024566/201093333-219026a4-5541-44f3-aad0-cb06d240992a.png)

- 장점
  - SQL QUERY와 비슷해서 금방 익숙해짐 
- 단점
  - type-safe 아님
  - 동적쿼리 생성이 어려움

2. Criteria API 
![데이터 접근 기술 - Querydsl - 02  Criteria API](https://user-images.githubusercontent.com/52024566/201093339-f1f17480-e8de-4075-b995-9c0099ddaabf.png)

- 장점
  - 동적쿼리 생성 가능
- 단점 
  - type-safe 아님 
  - 너무 너무 너무 복잡함 
  - 알아야 할 게 너무 많음

3. MetaModel Criteria API(type-safe)
- `root.get("age")` → `root.get(Member_.age) `
- Criteria API + MetaModel 
- Criteria API와 거의 동일 
- type-safe 
- 복잡하긴 마찬가지

### 해결

**DSL**
- 도메인(Domain) + 특화(Specific) + 언어(Language)
- 특정한 도메인에 초점을 맞춘 제한적인 표현력을 가진 컴퓨터 프로그래밍 언어 
- 특징 : 단순, 간결, 유창

**QueryDSL**
- 쿼리 + 도메인 + 특화 + 언어 
- 쿼리에 특화된 프로그래밍 언어 
- 단순, 간결, 유창 
- 다양한 저장소 쿼리 기능 통합
→ JPA, MongoDB, SQL 같은 기술들을 위해 type-safe SQL을 만드는 프레임워크

**데이터 쿼리 기능 추상화**
![데이터 접근 기술 - Querydsl - 03  데이터 쿼리 기능 추상화](https://user-images.githubusercontent.com/52024566/201093340-676a0c16-9aa0-470c-9d4d-5c32922861e7.png)

**Type-safe Query Type 생성**
![데이터 접근 기술 - Querydsl - 04  Type-safe Query Type 생성](https://user-images.githubusercontent.com/52024566/201093342-581cf921-db93-43a7-9c41-3c9a22ea8a5d.png)

**작동 방식**
![데이터 접근 기술 - Querydsl - 05  작동 방식](https://user-images.githubusercontent.com/52024566/201093343-b2d7bc8f-7f3c-4ca1-9a7a-eb09f98cbb4f.png "데이터 접근 기술 - Querydsl - 05  작동 방식")

**SpringDataJPA + Querydsl**
- SpringData프로젝트의 약점은 조회 
- Querydsl로 복잡한 조회 기능 보완 
- 복잡한 쿼리 
- 동적 쿼리 
- 단순한 경우 : SpringDataJPA 
- 복잡한 경우 : Querydsl 직접 사용

## Querydsl 설정
## Querydsl 적용
## 정리